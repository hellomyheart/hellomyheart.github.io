(window.webpackJsonp=window.webpackJsonp||[]).push([[580],{999:function(s,a,t){"use strict";t.r(a);var e=t(14),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"删除集合"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除集合"}},[s._v("#")]),s._v(" 删除集合")]),s._v(" "),t("p",[s._v("删除集合 "),t("code",[s._v("collection.drop(options)")])]),s._v(" "),t("p",[s._v("删除"),t("em",[s._v("集合")]),s._v("及其所有索引和数据。为了删除系统集合，必须指定属性"),t("em",[s._v("isSystem")]),s._v("设置为"),t("em",[s._v("true")]),s._v("的"),t("em",[s._v("options")]),s._v("对象。")]),s._v(" "),t("p",[s._v("禁止将集合拖放到群集中，该群集是在其他集合中共享的原型。为了能够删除这样的集合，必须首先删除所有从属集合。")]),s._v(" "),t("p",[t("strong",[s._v("例子")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("arangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" col "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" db.example"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \narangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" col.drop（）"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \narangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" col"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ArangoCollection "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("76086")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"example"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type document, status loaded"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ArangoCollection "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("76086")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"example"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type document, status deleted"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("arangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" col "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" db._example"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \narangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" col.drop（"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" isSystem：true "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("）"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \narangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" col"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ArangoCollection "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("76093")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"_example"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type document, status loaded"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ArangoCollection "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("76093")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"_example"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type document, status deleted"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"截断"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#截断"}},[s._v("#")]),s._v(" 截断")]),s._v(" "),t("p",[s._v("截断集合 "),t("code",[s._v("collection.truncate()")])]),s._v(" "),t("p",[s._v("截断一个"),t("em",[s._v("集合")]),s._v("，除去所有文档，但保留其所有索引。")]),s._v(" "),t("p",[t("strong",[s._v("例子")])]),s._v(" "),t("p",[s._v("截断一个集合：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("arangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" col "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" db.example"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \narangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" col.save（"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" “ Hello”：“ World” "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("）"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \narangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" col.count（）"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \narangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" col.truncate（）"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \narangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" col.count（）"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('[ArangoCollection 76247, "example" (type document, status loaded)]\n{ \n  "_id" : "example/76252", \n  "_key" : "76252", \n  "_rev" : "_cCeGtpW---" \n}\n1\n0\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"压实-压缩"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#压实-压缩"}},[s._v("#")]),s._v(" 压实（压缩）")]),s._v(" "),t("p",[s._v("在v3.4.5中引入")]),s._v(" "),t("p",[s._v("压缩集合的数据 "),t("code",[s._v("collection.compact()")])]),s._v(" "),t("p",[s._v("压缩集合的数据以回收磁盘空间。对于MMFiles存储引擎，该操作将重置集合的最后压缩时间戳记，因此它将成为压缩的候选对象。对于RocksDB存储引擎，该操作将通过重写基础.sst文件并仅保留相关条目来压缩文档和索引数据。")]),s._v(" "),t("p",[s._v("在正常情况下，无需执行压缩操作，因为无论如何最终都会压缩集合数据。但是，在某些情况下，例如，在运行了大量更新/替换或删除操作之后，集合的磁盘数据可能包含许多过时的数据，必须为其回收空间。在这种情况下，可以使用压实操作。")]),s._v(" "),t("h2",{attrs:{id:"特性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#特性"}},[s._v("#")]),s._v(" 特性")]),s._v(" "),t("p",[s._v("获取或设置集合的属性"),t("code",[s._v("collection.properties()")])]),s._v(" "),t("p",[s._v("返回包含所有集合属性的对象。")]),s._v(" "),t("ul",[t("li",[t("p",[t("em",[s._v("waitForSync")]),s._v("：如果为*true，*则仅在将数据同步到磁盘后才创建文档。")])]),s._v(" "),t("li",[t("p",[s._v("keyOptions")]),s._v(" "),t("p",[s._v("（可选），用于生成密钥的其他选项。这是一个包含以下属性的JSON数组（注意：某些属性是可选的）：")]),s._v(" "),t("ul",[t("li",[t("em",[s._v("type")]),s._v("：用于集合的密钥生成器的类型。")]),s._v(" "),t("li",[t("em",[s._v("allowUserKeys")]),s._v("：如果设置为"),t("em",[s._v("true")]),s._v("，则允许在文档的*_key"),t("em",[s._v("属性中提供自己的键值。如果设置为 "),t("em",[s._v("false")]),s._v("，那么密钥生成器将仅负责生成密钥，并且在文档的")]),s._v("_key*属性中提供自己的密钥值被认为是错误。")]),s._v(" "),t("li",[t("strong",[s._v("increment")]),s._v("："),t("em",[s._v("自动增量")]),s._v("密钥生成器的增量值。不适用于其他密钥生成器类型。")]),s._v(" "),t("li",[t("em",[s._v("offset")]),s._v("："),t("em",[s._v("自动增量")]),s._v("密钥生成器的初始偏移值。不适用于其他密钥生成器类型。")])])]),s._v(" "),t("li",[t("p",[t("em",[s._v("schema")]),s._v("（可选，默认为"),t("em",[s._v("null")]),s._v("）：指定文档的收集级别文档架构的对象。属性键"),t("code",[s._v("rule")]),s._v("，"),t("code",[s._v("level")]),s._v("并且"),t("code",[s._v("message")]),s._v("必须遵循"),t("a",{attrs:{href:"https://www.arangodb.com/docs/devel/document-schema-validation.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("文档架构验证"),t("OutboundLink")],1),s._v("中"),t("a",{attrs:{href:"https://www.arangodb.com/docs/devel/document-schema-validation.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("记录"),t("OutboundLink")],1),s._v("的规则")])])]),s._v(" "),t("p",[s._v("在群集设置中，结果还将包含以下属性：")]),s._v(" "),t("ul",[t("li",[t("em",[s._v("numberOfShards")]),s._v("：集合的分片数。")]),s._v(" "),t("li",[t("em",[s._v("shardKeys")]),s._v("：包含用于确定文档目标分片的文档属性的名称。")]),s._v(" "),t("li",[t("em",[s._v("replicationFactor")]),s._v("：确定每个分片在不同的DB服务器上保留多少个副本。必须在1-10的范围内，或者"),t("code",[s._v('"satellite"')]),s._v("是SatelliteCollection的字符串 （仅企业版）。 "),t("em",[s._v("（仅集群）")])]),s._v(" "),t("li",[t("em",[s._v("writeConcern")]),s._v("：确定在不同的DB服务器上同步每个分片需要多少个副本。如果集群中的副本数量少于这些副本，则分片将拒绝写入。但是，具有足够最新副本的分片写入将同时成功。"),t("em",[s._v("writeConcern")]),s._v("的值 不能大于"),t("em",[s._v("ReplicationFactor")]),s._v("。"),t("em",[s._v("（仅集群）")])]),s._v(" "),t("li",[t("em",[s._v("shardingStrategy")]),s._v("：为集合选择的分片策略。此属性将仅在群集模式下填充，而不会在单服务器模式下填充。"),t("em",[s._v("（仅集群）")])])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("collection.properties"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("properties"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("更改集合属性。"),t("em",[s._v("属性")]),s._v("必须是具有以下一个或多个属性的对象：")]),s._v(" "),t("ul",[t("li",[t("em",[s._v("waitForSync")]),s._v("：如果为*true，*则仅在将数据同步到磁盘后才创建文档。")]),s._v(" "),t("li",[t("em",[s._v("plicationFactor")]),s._v("：更改保留在不同数据库服务器上的分片副本的数量。有效值是1到10范围内的整数，或者"),t("code",[s._v('"satellite"')]),s._v("是SatelliteCollection的字符串（仅企业版）。 "),t("em",[s._v("（仅集群）")])]),s._v(" "),t("li",[t("em",[s._v("writeConcern")]),s._v("：更改在不同的DB服务器上同步每个分片需要多少个副本。如果集群中的副本数量少于这些副本，则分片将拒绝写入。但是，具有足够最新副本的分片写入将同时成功。"),t("em",[s._v("writeConcern")]),s._v("的值 不能大于"),t("em",[s._v("ReplicationFactor")]),s._v("。"),t("em",[s._v("（仅集群）")])])]),s._v(" "),t("p",[t("strong",[s._v("注意")]),s._v("：创建集合后，"),t("em",[s._v("就不能再")]),s._v("更改其他一些集合属性，例如"),t("em",[s._v("type")]),s._v("， "),t("em",[s._v("keyOptions")]),s._v("，"),t("em",[s._v("numberOfShards")]),s._v("或"),t("em",[s._v("shardingStrategy")]),s._v("。")]),s._v(" "),t("p",[t("strong",[s._v("例子")])]),s._v(" "),t("p",[s._v("查询所有属性")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("arangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" db.example.properties（）"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"globallyUniqueId"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"h3202AC01E869/76202"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"isSystem"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"waitForSync"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"keyOptions"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"allowUserKeys"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"traditional"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lastValue"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"writeConcern"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"cacheEnabled"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"syncByRevision"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"schema"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token null keyword"}},[s._v("null")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("变更属性")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"globallyUniqueId"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"h3202AC01E869/76210"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"isSystem"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"waitForSync"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"keyOptions"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"allowUserKeys"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"traditional"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lastValue"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"writeConcern"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"cacheEnabled"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"syncByRevision"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"schema"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token null keyword"}},[s._v("null")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h2",{attrs:{id:"数字"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数字"}},[s._v("#")]),s._v(" 数字")]),s._v(" "),t("p",[s._v("返回集合的数字 "),t("code",[s._v("collection.figures(details)")])]),s._v(" "),t("p",[s._v("返回一个对象，其中包含有关集合的统计信息。")]),s._v(" "),t("p",[s._v("设置"),t("code",[s._v("details")]),s._v("为，"),t("code",[s._v("true")]),s._v("将使扩展存储引擎特定的详细信息返回到图中（在v3.8.0中引入）。这些详细信息旨在调试ArangoDB本身，其格式可能会发生更改。默认情况下， "),t("code",[s._v("details")]),s._v("设置为"),t("code",[s._v("false")]),s._v("，因此不返回任何详细信息，并且其行为与ArangoDB的早期版本相同。")]),s._v(" "),t("ul",[t("li",[t("em",[s._v("index.count")]),s._v("：为集合定义的索引总数，包括预定义的索引（例如主索引）。")]),s._v(" "),t("li",[t("em",[s._v("index.size")]),s._v("：为索引分配的总内存（以字节为单位）。")]),s._v(" "),t("li",[t("em",[s._v("文件大小")])]),s._v(" "),t("li",[t("em",[s._v("cacheInUse")])]),s._v(" "),t("li",[t("em",[s._v("缓存大小")])]),s._v(" "),t("li",[t("em",[s._v("cacheUsage")])])]),s._v(" "),t("p",[t("strong",[s._v("例子")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("arangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" db.demo.figures（）\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"indexes"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"count"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"size"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1598")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"documentsSize"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16864")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"cacheInUse"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"cacheSize"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"cacheUsage"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("arangosh> db.demo.figures（true）\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"indexes"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"count"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"size"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1598")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"documentsSize"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16864")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"cacheInUse"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"cacheSize"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"cacheUsage"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"engine"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"documents"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"indexes"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" \n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"primary"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"id"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"count"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" \n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("h2",{attrs:{id:"getresponsibleshard"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#getresponsibleshard"}},[s._v("#")]),s._v(" GetResponsibleShard")]),s._v(" "),t("p",[s._v("返回给定文档的责任分片。 "),t("code",[s._v("collection.getResponsibleShard(document)")])]),s._v(" "),t("p",[s._v("返回带有负责的分片的ID的字符串。请注意，返回的分片ID是文档的分片键值的负责分片的ID，即使不存在此类文档，也将返回该分片ID。")]),s._v(" "),t("p",[s._v("该"),t("code",[s._v("getResponsibleShard()")]),s._v("方法只能在集群中的协调器上使用。")]),s._v(" "),t("h2",{attrs:{id:"碎片"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#碎片"}},[s._v("#")]),s._v(" 碎片")]),s._v(" "),t("p",[s._v("返回集合的可用分片。 "),t("code",[s._v("collection.shards(details)")])]),s._v(" "),t("p",[s._v("如果"),t("code",[s._v("details")]),s._v("未设置或将其设置为"),t("code",[s._v("false")]),s._v("，则返回一个数组，其中包含集合的可用分片的名称。")]),s._v(" "),t("p",[s._v("如果"),t("code",[s._v("details")]),s._v("设置为"),t("code",[s._v("true")]),s._v("，则返回一个以分片名称作为对象属性键的对象，将负责的服务器作为映射到每个分片属性键的数组返回。")]),s._v(" "),t("p",[s._v("领导者分片始终在负责任的服务器阵列中排在第一位。")]),s._v(" "),t("p",[s._v("该"),t("code",[s._v("shards()")]),s._v("方法只能在集群中的协调器上使用。")]),s._v(" "),t("h2",{attrs:{id:"加载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#加载"}},[s._v("#")]),s._v(" 加载")]),s._v(" "),t("p",[s._v("加载收藏 "),t("code",[s._v("collection.load()")])]),s._v(" "),t("p",[s._v("将集合加载到内存中。")]),s._v(" "),t("p",[s._v("群集集合始终加载。")]),s._v(" "),t("p",[t("strong",[s._v("例子")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("arangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" col "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" db.example"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \narangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" col.load（）"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \narangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" col"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ArangoCollection "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("76174")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"example"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type document, status loaded"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ArangoCollection "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("76174")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"example"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type document, status loaded"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"修订"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修订"}},[s._v("#")]),s._v(" 修订")]),s._v(" "),t("p",[s._v("返回集合的修订版ID "),t("code",[s._v("collection.revision()")])]),s._v(" "),t("p",[s._v("返回集合的修订版ID")]),s._v(" "),t("p",[s._v("修改文档数据时，可以通过在其中插入，删除，更新或替换文档来更新版本ID。")]),s._v(" "),t("p",[s._v("客户端可以使用集合的修订版本ID来检查集合中的数据是否已更改，或者自从先前获取修订版本ID以来是否仍未修改。")]),s._v(" "),t("p",[s._v("返回的修订版ID是一个字符串值。客户应将此值视为不透明字符串，并且只能将其用于相等/不相等比较。")]),s._v(" "),t("h2",{attrs:{id:"路径"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#路径"}},[s._v("#")]),s._v(" 路径")]),s._v(" "),t("p",[s._v("返回集合的物理路径 "),t("code",[s._v("collection.path()")])]),s._v(" "),t("p",[s._v("该"),t("em",[s._v("路径")]),s._v("操作返回与用于收集数据的物理存储路径的字符串。")]),s._v(" "),t("p",[s._v("该"),t("code",[s._v("path()")]),s._v("方法将在群集中不返回任何有意义的东西。在单服务器ArangoDB中，此方法将仅返回MMFiles存储引擎的有意义的数据。")]),s._v(" "),t("h2",{attrs:{id:"校验和"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#校验和"}},[s._v("#")]),s._v(" 校验和")]),s._v(" "),t("p",[s._v("计算集合中数据的校验和 "),t("code",[s._v("collection.checksum(withRevisions, withData)")])]),s._v(" "),t("p",[s._v("该"),t("em",[s._v("校验和")]),s._v("运算，计算对包含集合中的所有文档键的总哈希值"),t("em",[s._v("集合")]),s._v("。")]),s._v(" "),t("p",[s._v("如果"),t("em",[s._v("withRevisions")]),s._v("的可选参数设置为"),t("em",[s._v("true")]),s._v("，则文档的修订版ID也将包含在哈希计算中。")]),s._v(" "),t("p",[s._v("如果可选参数"),t("em",[s._v("withData")]),s._v("设置为"),t("em",[s._v("true")]),s._v("，那么"),t("em",[s._v("还将")]),s._v("对所有用户定义的文档属性进行校验和。将文件数据包括在校验和中将使计算速度变慢，但更准确。")]),s._v(" "),t("p",[s._v("校验和计算算法在ArangoDB 3.0中发生了变化，因此3.0和更早版本对同一数据的校验和将有所不同。")]),s._v(" "),t("h2",{attrs:{id:"卸载集合"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#卸载集合"}},[s._v("#")]),s._v(" 卸载集合")]),s._v(" "),t("p",[s._v("卸载集合 "),t("code",[s._v("collection.unload()")])]),s._v(" "),t("p",[s._v("开始从内存中卸载集合。请注意，卸载将推迟到所有查询完成后再进行。")]),s._v(" "),t("p",[s._v("群集集合无法卸载。")]),s._v(" "),t("p",[t("strong",[s._v("例子")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("arangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" col "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" db.example"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \narangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" col.unload（）"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \narangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" col"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ArangoCollection "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65552")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"example"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type document, status loaded"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ArangoCollection "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65552")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"example"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type document, status unloaded"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"重命名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重命名"}},[s._v("#")]),s._v(" 重命名")]),s._v(" "),t("p",[s._v("重命名集合 "),t("code",[s._v("collection.rename(new-name)")])]),s._v(" "),t("p",[s._v("使用"),t("em",[s._v("new-name")]),s._v("重命名集合。该"),t("em",[s._v("新名称")]),s._v("不能已被用于不同的集合。"),t("em",[s._v("new-name")]),s._v("也必须是有效的集合名称。有关有效集合名称的更多信息，请参考"),t("a",{attrs:{href:"https://www.arangodb.com/docs/devel/data-modeling-naming-conventions.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("命名约定"),t("OutboundLink")],1),s._v("。")]),s._v(" "),t("p",[s._v("如果重命名由于任何原因而失败，则会引发错误。如果重命名该集合成功，则该集合还将"),t("code",[s._v("_graphs")]),s._v("在当前数据库中该集合内的所有图形定义中重命名。")]),s._v(" "),t("p",[s._v("该"),t("code",[s._v("rename()")]),s._v("方法不能在群集中使用。")]),s._v(" "),t("p",[t("strong",[s._v("例子")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("arangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" c "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" db.example"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\narangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" c.rename"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"better-example"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\narangosh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ArangoCollection "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("76238")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"example"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type document, status loaded"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ArangoCollection "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("76238")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"better-example"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type document, status loaded"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);