(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{485:function(s,a,n){"use strict";n.r(a);var e=n(14),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("现代操作系统（Windows，macOS，Linux）都可以执行多任务。多任务就是同时运行多个任务，例如：")]),s._v(" "),n("p",[s._v("听音乐、浏览网页、登qq。")]),s._v(" "),n("p",[s._v("CPU执行代码都是一条一条顺序执行的，但是，即使是单核cpu，也可以同时运行多个任务。因为操作系统执行多任务实际上就是让CPU对多个任务轮流交替执行。")]),s._v(" "),n("p",[s._v("例如，假设我们有语文、数学、英语3门作业要做，每个作业需要30分钟。我们把这3门作业看成是3个任务，可以做1分钟语文作业，再做1分钟数学作业，再做1分钟英语作业：")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://zeroone-bucket.oss-cn-beijing.aliyuncs.com/vuepress/20200715090713.jpeg",alt:"fast"}})]),s._v(" "),n("p",[s._v("这样轮流做下去，在某些人眼里看来，做作业的速度就非常快，看上去就像同时在做3门作业一样")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://zeroone-bucket.oss-cn-beijing.aliyuncs.com/vuepress/20200715090749.gif",alt:"ooops"}})]),s._v(" "),n("p",[s._v("类似的，操作系统轮流让多个任务交替执行，例如，让浏览器执行0.001秒，让QQ执行0.001秒，再让音乐播放器执行0.001秒，在人看来，CPU就是在同时执行多个任务。")]),s._v(" "),n("p",[s._v("即使是多核CPU，因为通常任务的数量远远多于CPU的核数，所以任务也是交替执行的。")]),s._v(" "),n("blockquote",[n("p",[s._v("但是多核CPU可以更加灵活的进行资源调度，（比单核性能强）")])]),s._v(" "),n("h3",{attrs:{id:"进程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进程"}},[s._v("#")]),s._v(" 进程")]),s._v(" "),n("p",[s._v("在计算机中，我们把一个任务称为一个进程，浏览器就是一个进程，视频播放器是另一个进程，类似的，音乐播放器和Word都是进程。")]),s._v(" "),n("p",[s._v("某些进程内部还需要同时执行多个子任务。例如，我们在使用Word时，Word可以让我们一边打字，一边进行拼写检查，同时还可以在后台进行打印，我们把子任务称为线程。")]),s._v(" "),n("p",[s._v("进程和线程的关系就是：一个进程可以包含一个或多个线程，但至少会有一个线程。")]),s._v(" "),n("div",{staticClass:"language-ascii line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("                        ┌──────────┐\n                        │Process   │\n                        │┌────────┐│\n            ┌──────────┐││ Thread ││┌──────────┐\n            │Process   ││└────────┘││Process   │\n            │┌────────┐││┌────────┐││┌────────┐│\n┌──────────┐││ Thread ││││ Thread ││││ Thread ││\n│Process   ││└────────┘││└────────┘││└────────┘│\n│┌────────┐││┌────────┐││┌────────┐││┌────────┐│\n││ Thread ││││ Thread ││││ Thread ││││ Thread ││\n│└────────┘││└────────┘││└────────┘││└────────┘│\n└──────────┘└──────────┘└──────────┘└──────────┘\n┌──────────────────────────────────────────────┐\n│               Operating System               │\n└──────────────────────────────────────────────┘\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("操作系统调度的最小任务单位其实不是进程，而是线程。常用的Windows、Linux等操作系统都采用抢占式多任务，如何调度线程完全由操作系统决定，程序自己不能决定什么时候执行，以及执行多长时间。")]),s._v(" "),n("p",[s._v("因为同一个应用程序，既可以有多个进程，也可以有多个线程，因此，实现多任务的方法，有以下几种：")]),s._v(" "),n("p",[s._v("多进程模式（每个进程只有一个线程）：")]),s._v(" "),n("div",{staticClass:"language-ascii line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("┌──────────┐ ┌──────────┐ ┌──────────┐\n│Process   │ │Process   │ │Process   │\n│┌────────┐│ │┌────────┐│ │┌────────┐│\n││ Thread ││ ││ Thread ││ ││ Thread ││\n│└────────┘│ │└────────┘│ │└────────┘│\n└──────────┘ └──────────┘ └──────────┘\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("多线程模式（一个进程有多个线程）：")]),s._v(" "),n("div",{staticClass:"language-ascii line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("┌────────────────────┐\n│Process             │\n│┌────────┐┌────────┐│\n││ Thread ││ Thread ││\n│└────────┘└────────┘│\n│┌────────┐┌────────┐│\n││ Thread ││ Thread ││\n│└────────┘└────────┘│\n└────────────────────┘\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("多进程＋多线程模式（复杂度最高）：")]),s._v(" "),n("div",{staticClass:"language-ascii line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("┌──────────┐┌──────────┐┌──────────┐\n│Process   ││Process   ││Process   │\n│┌────────┐││┌────────┐││┌────────┐│\n││ Thread ││││ Thread ││││ Thread ││\n│└────────┘││└────────┘││└────────┘│\n│┌────────┐││┌────────┐││┌────────┐│\n││ Thread ││││ Thread ││││ Thread ││\n│└────────┘││└────────┘││└────────┘│\n└──────────┘└──────────┘└──────────┘\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h3",{attrs:{id:"进程-vs-线程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进程-vs-线程"}},[s._v("#")]),s._v(" 进程 vs 线程")]),s._v(" "),n("p",[s._v("进程和线程是包含关系，但是多任务既可以由多进程实现，也可以由单进程内的多线程实现，还可以混合多进程＋多线程。")]),s._v(" "),n("p",[s._v("具体采用哪种方式，要考虑到进程和线程的特点。")]),s._v(" "),n("p",[s._v("和多线程相比，多进程的缺点在于：")]),s._v(" "),n("ul",[n("li",[s._v("创建进程比创建线程开销大，尤其是在Windows系统上；")]),s._v(" "),n("li",[s._v("进程间通信比线程间通信要慢，因为线程间通信就是读写同一个变量，速度很快。")])]),s._v(" "),n("p",[s._v("而多进程的优点在于：")]),s._v(" "),n("p",[s._v("多进程稳定性比多线程高，因为在多进程的情况下，一个进程崩溃不会影响其他进程，而在多线程的情况下，任何一个线程崩溃会直接导致整个进程崩溃。")]),s._v(" "),n("h3",{attrs:{id:"多线程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#多线程"}},[s._v("#")]),s._v(" 多线程")]),s._v(" "),n("p",[s._v("Java语言内置了多线程支持：一个Java程序实际上是一个JVM进程，JVM进程用一个主线程来执行"),n("code",[s._v("main()")]),s._v("方法，在"),n("code",[s._v("main()")]),s._v("方法内部，我们又可以启动多个线程。此外，JVM还有负责垃圾回收的其他工作线程等。")]),s._v(" "),n("p",[s._v("因此，对于大多数Java程序来说，我们说多任务，实际上是说如何使用多线程实现多任务。")]),s._v(" "),n("p",[s._v("和单线程相比，多线程编程的特点在于：多线程经常需要读写共享数据，并且需要同步。例如，播放电影时，就必须由一个线程播放视频，另一个线程播放音频，两个线程需要协调运行，否则画面和声音就不同步。因此，多线程编程的复杂度高，调试更困难。")]),s._v(" "),n("p",[s._v("Java多线程编程的特点又在于：")]),s._v(" "),n("ul",[n("li",[s._v("多线程模型是Java程序最基本的并发模型；")]),s._v(" "),n("li",[s._v("后续读写网络、数据库、Web开发等都依赖Java多线程模型。")])]),s._v(" "),n("p",[s._v("因此，必须掌握Java多线程编程才能继续深入学习其他内容。")])])}),[],!1,null,null,null);a.default=r.exports}}]);