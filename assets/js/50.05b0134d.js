(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{468:function(t,_,v){"use strict";v.r(_);var e=v(15),a=Object(e.a)({},(function(){var t=this,_=t.$createElement,v=t._self._c||_;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("p",[t._v("在计算机中，我们经常需要处理日期和时间。")]),t._v(" "),v("p",[t._v("这是日期：")]),t._v(" "),v("ul",[v("li",[t._v("2019-11-20")]),t._v(" "),v("li",[t._v("2020-1-1")])]),t._v(" "),v("p",[t._v("这是时间：")]),t._v(" "),v("ul",[v("li",[t._v("12:30:59")]),t._v(" "),v("li",[t._v("2020-1-1 20:21:59")])]),t._v(" "),v("p",[t._v("日期是指某一天，它不是连续变化的，而是应该被看成离散的。")]),t._v(" "),v("p",[t._v("而时间有两种概念，一种是不带日期的时间，例如，12:30:59。另一种是带日期的时间，例如，2020-1-1 20:21:59，只有这种带日期的时间能唯一确定某个时刻，不带日期的时间是无法确定一个唯一时刻的。")]),t._v(" "),v("h3",{attrs:{id:"本地时间"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#本地时间"}},[t._v("#")]),t._v(" 本地时间")]),t._v(" "),v("p",[t._v("当我们说当前时刻是2019年11月20日早上8:15的时候，我们说的实际上是本地时间。在国内就是北京时间。在这个时刻，如果地球上不同地方的人们同时看一眼手表，他们各自的本地时间是不同的：")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://zeroone-bucket.oss-cn-beijing.aliyuncs.com/cloud/20200729221143.jpeg",alt:""}})]),t._v(" "),v("p",[t._v("所以，不同的时区，在同一时刻，本地时间是不同的。全球一共分为24个时区，伦敦所在的时区称为标准时区，其他时区按东／西偏移的小时区分，北京所在的时区是东八区。")]),t._v(" "),v("h3",{attrs:{id:"时区"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#时区"}},[t._v("#")]),t._v(" 时区")]),t._v(" "),v("p",[t._v("因为光靠本地时间还无法唯一确定一个准确的时刻，所以我们还需要给本地时间加上一个时区。时区有好几种表示方式。")]),t._v(" "),v("p",[t._v("一种是以"),v("code",[t._v("GMT")]),t._v("或者"),v("code",[t._v("UTC")]),t._v("加时区偏移表示，例如："),v("code",[t._v("GMT+08:00")]),t._v("或者"),v("code",[t._v("UTC+08:00")]),t._v("表示东八区。")]),t._v(" "),v("p",[v("code",[t._v("GMT")]),t._v("和"),v("code",[t._v("UTC")]),t._v("可以认为基本是等价的，只是"),v("code",[t._v("UTC")]),t._v("使用更精确的原子钟计时，每隔几年会有一个闰秒，我们在开发程序的时候可以忽略两者的误差，因为计算机的时钟在联网的时候会自动与时间服务器同步时间。")]),t._v(" "),v("p",[t._v("另一种是缩写，例如，"),v("code",[t._v("CST")]),t._v("表示"),v("code",[t._v("China Standard Time")]),t._v("，也就是中国标准时间。但是"),v("code",[t._v("CST")]),t._v("也可以表示美国中部时间"),v("code",[t._v("Central Standard Time USA")]),t._v("，因此，缩写容易产生混淆，我们尽量不要使用缩写。")]),t._v(" "),v("p",[t._v("最后一种是以洲／城市表示，例如，"),v("code",[t._v("Asia/Shanghai")]),t._v("，表示上海所在地的时区。特别注意城市名称不是任意的城市，而是由国际标准组织规定的城市。")]),t._v(" "),v("p",[t._v("因为时区的存在，东八区的2019年11月20日早上8:15，和西五区的2019年11月19日晚上19:15，他们的时刻是相同的：")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://zeroone-bucket.oss-cn-beijing.aliyuncs.com/cloud/20200729221314.jpeg",alt:""}})]),t._v(" "),v("p",[t._v("时刻相同的意思就是，分别在两个时区的两个人，如果在这一刻通电话，他们各自报出自己手表上的时间，虽然本地时间是不同的，但是这两个时间表示的时刻是相同的。")]),t._v(" "),v("h3",{attrs:{id:"夏令时"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#夏令时"}},[t._v("#")]),t._v(" 夏令时")]),t._v(" "),v("p",[t._v("时区还不是最复杂的，更复杂的是夏令时。所谓夏令时，就是夏天开始的时候，把时间往后拨1小时，夏天结束的时候，再把时间往前拨1小时。我们国家实行过一段时间夏令时，1992年就废除了，但是矫情的美国人到现在还在使用，所以时间换算更加复杂。")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://zeroone-bucket.oss-cn-beijing.aliyuncs.com/cloud/20200729221428.jpeg",alt:""}}),t._v("因为涉及到夏令时，相同的时区，如果表示的方式不同，转换出的时间是不同的。我们举个栗子：")]),t._v(" "),v("p",[t._v("对于2019-11-20和2019-6-20两个日期来说，假设北京人在纽约：")]),t._v(" "),v("ul",[v("li",[t._v("如果以"),v("code",[t._v("GMT")]),t._v("或者"),v("code",[t._v("UTC")]),t._v("作为时区，无论日期是多少，时间都是"),v("code",[t._v("19:00")]),t._v("；")]),t._v(" "),v("li",[t._v("如果以国家／城市表示，例如"),v("code",[t._v("America／NewYork")]),t._v("，虽然纽约也在西五区，但是，因为夏令时的存在，在不同的日期，"),v("code",[t._v("GMT")]),t._v("时间和纽约时间可能是不一样的：")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",{staticStyle:{"text-align":"left"}},[t._v("时区")]),t._v(" "),v("th",{staticStyle:{"text-align":"left"}},[t._v("2019-11-20")]),t._v(" "),v("th",{staticStyle:{"text-align":"left"}},[t._v("2019-6-20")])])]),t._v(" "),v("tbody",[v("tr",[v("td",{staticStyle:{"text-align":"left"}},[t._v("GMT-05:00")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("19:00")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("19:00")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[t._v("UTC-05:00")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("19:00")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("19:00")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[t._v("America/New_York")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("19:00")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("20:00")])])])]),t._v(" "),v("p",[t._v("实行夏令时的不同地区，进入和退出夏令时的时间很可能是不同的。同一个地区，根据历史上是否实行过夏令时，标准时间在不同年份换算成当地时间也是不同的。因此，计算夏令时，没有统一的公式，必须按照一组给定的规则来算，并且，该规则要定期更新。")]),t._v(" "),v("p",[t._v("计算夏令时请使用标准库提供的相关类，不要试图自己计算夏令时。")]),t._v(" "),v("h3",{attrs:{id:"本地化"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#本地化"}},[t._v("#")]),t._v(" 本地化")]),t._v(" "),v("p",[t._v("在计算机中，通常使用"),v("code",[t._v("Locale")]),t._v("表示一个国家或地区的日期、时间、数字、货币等格式。"),v("code",[t._v("Locale")]),t._v("由"),v("code",[t._v("语言_国家")]),t._v("的字母缩写构成，例如，"),v("code",[t._v("zh_CN")]),t._v("表示中文+中国，"),v("code",[t._v("en_US")]),t._v("表示英文+美国。语言使用小写，国家使用大写。")]),t._v(" "),v("p",[t._v("对于日期来说，不同的Locale，例如，中国和美国的表示方式如下：")]),t._v(" "),v("ul",[v("li",[t._v("zh_CN：2016-11-30")]),t._v(" "),v("li",[t._v("en_US：11/30/2016")])]),t._v(" "),v("p",[t._v("计算机用"),v("code",[t._v("Locale")]),t._v("在日期、时间、货币和字符串之间进行转换。一个电商网站会根据用户所在的"),v("code",[t._v("Locale")]),t._v("对用户显示如下：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",{staticStyle:{"text-align":"left"}}),t._v(" "),v("th",{staticStyle:{"text-align":"left"}},[t._v("中国用户")]),t._v(" "),v("th",{staticStyle:{"text-align":"left"}},[t._v("美国用户")])])]),t._v(" "),v("tbody",[v("tr",[v("td",{staticStyle:{"text-align":"left"}},[t._v("购买价格")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("12000.00")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("12,000.00")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[t._v("购买日期")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("2016-11-30")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("11/30/2016")])])])]),t._v(" "),v("h3",{attrs:{id:"小结"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),v("p",[t._v("在编写日期和时间的程序前，我们要准确理解日期、时间和时刻的概念。")]),t._v(" "),v("p",[t._v("由于存在本地时间，我们需要理解时区的概念，并且必须牢记由于夏令时的存在，同一地区用"),v("code",[t._v("GMT/UTC")]),t._v("和城市表示的时区可能导致时间不同。")]),t._v(" "),v("p",[t._v("计算机通过"),v("code",[t._v("Locale")]),t._v("来针对当地用户习惯格式化日期、时间、数字、货币等。")])])}),[],!1,null,null,null);_.default=a.exports}}]);