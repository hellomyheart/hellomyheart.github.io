(window.webpackJsonp=window.webpackJsonp||[]).push([[342],{761:function(s,t,e){"use strict";e.r(t);var r=e(14),a=Object(r.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),e("p",[s._v("本文将要实现系统集成阿里云短信服务，用来做用户注册的手机号验证，（也可以实现手机号验证码登录，但是没钱，注册用验证码就很奢侈了）")]),s._v(" "),e("h1",{attrs:{id:"注册功能思路"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注册功能思路"}},[s._v("#")]),s._v(" 注册功能思路")]),s._v(" "),e("p",[s._v("用户点击注册后，从前台获取用户信息，business层会生成一个随机验证码，business一边调用redis模块把用户信息和验证码存到redis，一边通过rocketmq发送消息，消息消费者调用阿里云短信服务给用户发验证码。用户输入验证码点击注册后，business会比对redis里的验证码，一致就把用户信息存到数据库，不一致提示验证码错误。详细代码请参考我的"),e("a",{attrs:{href:"https://github.com/hellomyheart/HotelERPManagementSystem",target:"_blank",rel:"noopener noreferrer"}},[s._v("github"),e("OutboundLink")],1)]),s._v(" "),e("h1",{attrs:{id:"redis模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redis模块"}},[s._v("#")]),s._v(" redis模块")]),s._v(" "),e("p",[s._v("仿照之前的message模块设计，有api和servce（取消了feign和dto，简单点）,没有oauth2授权验证。")]),s._v(" "),e("h1",{attrs:{id:"cloud-sms模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cloud-sms模块"}},[s._v("#")]),s._v(" cloud-sms模块")]),s._v(" "),e("p",[s._v("cloud-sms模块主要是发送验证码。仿照cloud-upload模块设计，同样取消OAuth2授权验证。")])])}),[],!1,null,null,null);t.default=a.exports}}]);