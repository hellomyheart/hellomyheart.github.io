(window.webpackJsonp=window.webpackJsonp||[]).push([[572],{992:function(n,s,e){"use strict";e.r(s);var a=e(14),r=Object(a.a)({},(function(){var n=this,s=n.$createElement,e=n._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("p",[n._v("如果您使用过关系数据库管理系统（RDBMS）（例如MySQL，MariaDB或PostgreSQL），则将熟悉其查询语言，即SQL（结构化查询语言）的一种方言。")]),n._v(" "),e("p",[n._v("ArangoDB的查询语言称为AQL。尽管数据库系统的数据模型不同，但两种语言之间还是有一些相似之处。最显着的差异可能是AQL中循环的概念，这使它看起来更像是一种编程语言。它更适合无模式的模型，使查询语言非常强大，同时又易于读取和编写。")]),n._v(" "),e("p",[n._v("要开始使用AQL，请看一下我们"),e("a",{attrs:{href:"https://www.arangodb.com/community-server/sql-aql-comparison/",target:"_blank",rel:"noopener noreferrer"}},[n._v("对SQL和AQL的"),e("OutboundLink")],1),n._v("详细 "),e("a",{attrs:{href:"https://www.arangodb.com/community-server/sql-aql-comparison/",target:"_blank",rel:"noopener noreferrer"}},[n._v("比较"),e("OutboundLink")],1),n._v("。在迁移到ArangoDB时，它还将帮助您将SQL查询转换为AQL。")]),n._v(" "),e("blockquote",[e("p",[n._v("AQL和SQL之间有一些差异，还好。这篇文档主要介绍了两种查询语言选择列表的不同，更多的不同，可以不用关心，等AQL学完之后，使用AQL即可。由于没有历史包袱，我不需要考虑二者的转换。")])]),n._v(" "),e("p",[n._v("您可能还 对我们网站上的白皮书《 "),e("a",{attrs:{href:"https://www.arangodb.com/resources/white-paper/coming-from-relational/",target:"_blank",rel:"noopener noreferrer"}},[e("strong",[n._v("从关系数据库切换到ArangoDB》感兴趣")]),e("OutboundLink")],1),n._v("！")]),n._v(" "),e("h2",{attrs:{id:"基本查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本查询"}},[n._v("#")]),n._v(" 基本查询")]),n._v(" "),e("p",[e("strong",[n._v("选择列表如何转换为AQL查询？")])]),n._v(" "),e("p",[n._v("在传统的SQL中，您可以使用逐行获取表的所有列，也可以 "),e("code",[n._v("SELECT * FROM table")]),n._v("选择列的子集。要获取的表列的列表通常称为"),e("em",[n._v("选择列表")]),n._v("：")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("SELECT columnA, columnB, columnZ FROM table\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br")])]),e("p",[n._v("由于文档不是二维的，并且您也不希望局限于返回二维列表，因此查询语言的要求更高。因此，AQL首先比普通的SQL复杂一点，但从长远来看，它提供了更多的灵活性。它使您能够以方便的方式处理任意结构的文档，而这些方法大多依赖于JavaScript中使用的语法。")]),n._v(" "),e("p",[e("strong",[n._v("组成要退回的文件")])]),n._v(" "),e("p",[n._v("AQL"),e("code",[n._v("RETURN")]),n._v("语句在处理的每个文档中返回一个项目。您可以返回整个文档或部分文档。假设"),e("em",[n._v("oneDocument")]),n._v("是一个文档（"),e("code",[n._v('LET oneDocument = DOCUMENT("myusers/3456789")')]),n._v(" 例如，已检索），则可以按原样返回，如下所示：")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('RETURN oneDocument\n[\n    {\n        "_id": "myusers/3456789",\n        "_key": "3456789",\n        "_rev": "14253647",\n        "firstName": "John",\n        "lastName": "Doe",\n        "address": {\n            "city": "Gotham",\n            "street": "Road To Nowhere 1"\n        },\n        "hobbies": [\n            { "name": "swimming", "howFavorite": 10 },\n            { "name": "biking", "howFavorite": 6 },\n            { "name": "programming", "howFavorite": 4 }\n        ]\n    }\n]\n')])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br"),e("span",{staticClass:"line-number"},[n._v("17")]),e("br"),e("span",{staticClass:"line-number"},[n._v("18")]),e("br"),e("span",{staticClass:"line-number"},[n._v("19")]),e("br")])]),e("p",[n._v("仅返回兴趣爱好子结构：")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('RETURN oneDocument.hobbies\n[\n    [\n        { "name": "swimming", "howFavorite": 10 },\n        { "name": "biking", "howFavorite": 6 },\n        { "name": "programming", "howFavorite": 4 }\n    ]\n]\n')])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br")])]),e("p",[n._v("返回爱好和地址：")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('RETURN {\n    hobbies: oneDocument.hobbies,\n    address: oneDocument.address\n}\n[\n    {\n        "hobbies": [\n            { "name": "swimming", "howFavorite": 10 },\n            { "name": "biking", "howFavorite": 6 },\n            { "name": "programming", "howFavorite": 4 }\n        ],\n        "address": {\n            "city": "Gotham",\n            "street": "Road To Nowhere 1"\n        }\n    }\n]\n')])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br"),e("span",{staticClass:"line-number"},[n._v("17")]),e("br")])]),e("p",[n._v("只返回第一个爱好：")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('RETURN oneDocument.hobbies[0].name\n[\n    "swimming"\n]\n')])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br")])]),e("p",[n._v("返回所有爱好字符串的列表：")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('RETURN { hobbies: oneDocument.hobbies[*].name }\n[\n    { "hobbies": ["swimming", "biking", "programming"] }\n]\n')])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br")])]),e("p",[n._v("使用AQL函数和"),e("a",{attrs:{href:"https://www.arangodb.com/docs/devel/aql/operators.html",target:"_blank",rel:"noopener noreferrer"}},[n._v("运算符"),e("OutboundLink")],1),n._v("可以完成更复杂的"),e("a",{attrs:{href:"https://www.arangodb.com/docs/devel/aql/functions-array.html",target:"_blank",rel:"noopener noreferrer"}},[n._v("数组"),e("OutboundLink")],1),n._v("和 "),e("a",{attrs:{href:"https://www.arangodb.com/docs/devel/aql/functions-document.html",target:"_blank",rel:"noopener noreferrer"}},[n._v("对象操作"),e("OutboundLink")],1),n._v("。")])])}),[],!1,null,null,null);s.default=r.exports}}]);