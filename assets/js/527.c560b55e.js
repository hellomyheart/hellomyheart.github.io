(window.webpackJsonp=window.webpackJsonp||[]).push([[527],{946:function(e,t,r){"use strict";r.r(t);var o=r(14),n=Object(o.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("p",[e._v("通用功能是扩展的重要组成部分。几乎所有扩展都使用其中一些功能。这是您可以利用它们的方法。")]),e._v(" "),r("h2",{attrs:{id:"命令"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#命令"}},[e._v("#")]),e._v(" 命令")]),e._v(" "),r("p",[e._v("命令是VS Code工作方式的核心。打开命令面板以执行命令，将自定义键绑定绑定到命令，然后右键单击以在上下文菜单中调用命令。")]),e._v(" "),r("p",[e._v("扩展可以：")]),e._v(" "),r("ul",[r("li",[e._v("使用"),r("a",{attrs:{href:"https://code.visualstudio.com/api/references/vscode-api#commands",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("vscode.commands")]),r("OutboundLink")],1),e._v("API注册并执行命令。")]),e._v(" "),r("li",[e._v("通过"),r("a",{attrs:{href:"https://code.visualstudio.com/api/references/contribution-points#contributes.commands",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("contributes.commands")]),r("OutboundLink")],1),e._v("贡献点使命令在命令面板中可用。")])]),e._v(" "),r("p",[e._v("在"),r("a",{attrs:{href:"https://code.visualstudio.com/api/extension-guides/command",target:"_blank",rel:"noopener noreferrer"}},[e._v("扩展指南/命令"),r("OutboundLink")],1),e._v("主题中了解有关命令的更多信息。")]),e._v(" "),r("h2",{attrs:{id:"配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[e._v("#")]),e._v(" 配置")]),e._v(" "),r("p",[e._v("扩展可以通过"),r("a",{attrs:{href:"https://code.visualstudio.com/api/references/contribution-points#contributes.configuration",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("contributes.configuration")]),r("OutboundLink")],1),e._v("贡献点贡献特定于扩展的设置，并使用"),r("a",{attrs:{href:"https://code.visualstudio.com/api/references/vscode-api#workspace.getConfiguration",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("workspace.getConfiguration")]),r("OutboundLink")],1),e._v("API读取它们。")]),e._v(" "),r("h2",{attrs:{id:"键绑定"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#键绑定"}},[e._v("#")]),e._v(" 键绑定")]),e._v(" "),r("p",[e._v("扩展可以添加自定义键绑定。在"),r("a",{attrs:{href:"https://code.visualstudio.com/api/references/contribution-points#contributes.keybindings",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("contributes.keybindings")]),r("OutboundLink")],1),e._v("和"),r("a",{attrs:{href:"https://code.visualstudio.com/docs/getstarted/keybindings",target:"_blank",rel:"noopener noreferrer"}},[e._v("键绑定"),r("OutboundLink")],1),e._v("主题中阅读更多内容。")]),e._v(" "),r("h2",{attrs:{id:"上下文菜单"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#上下文菜单"}},[e._v("#")]),e._v(" 上下文菜单")]),e._v(" "),r("p",[e._v("扩展程序可以注册自定义上下文菜单项，单击鼠标右键将在VS Code UI的不同部分中显示这些菜单项。在"),r("a",{attrs:{href:"https://code.visualstudio.com/api/references/contribution-points#contributes.menus",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("contributes.menus")]),r("OutboundLink")],1),e._v("贡献点了解更多信息。")]),e._v(" "),r("h2",{attrs:{id:"数据存储"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#数据存储"}},[e._v("#")]),e._v(" 数据存储")]),e._v(" "),r("p",[e._v("有四个存储数据的选项：")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://code.visualstudio.com/api/references/vscode-api#ExtensionContext.workspaceState",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("ExtensionContext.workspaceState")]),r("OutboundLink")],1),e._v("：一个工作空间存储，您可以在其中编写键/值对。VS Code管理存储，并在再次打开同一工作区时将其还原。")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://code.visualstudio.com/api/references/vscode-api#ExtensionContext.globalState",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("ExtensionContext.globalState")]),r("OutboundLink")],1),e._v("：一个全局存储，您可以在其中编写键/值对。VS Code管理存储，并将在每次扩展激活时将其还原。您可以使用"),r("code",[e._v("setKeysForSync")]),e._v("方法on设置要同步的键，从而有选择地同步全局存储中的键/值对"),r("code",[e._v("globalState")]),e._v("。")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://code.visualstudio.com/api/references/vscode-api#ExtensionContext.storagePath",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("ExtensionContext.storagePath")]),r("OutboundLink")],1),e._v("：工作空间特定的存储路径，指向您的扩展具有读取/写入访问权限的本地目录。如果您需要存储只能从当前工作空间访问的大文件，这是一个不错的选择。")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://code.visualstudio.com/api/references/vscode-api#ExtensionContext.globalStoragePath",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("ExtensionContext.globalStoragePath")]),r("OutboundLink")],1),e._v("：指向您的扩展程序具有读/写访问权限的本地目录的全局存储路径。如果您需要存储可从所有工作空间访问的大文件，则这是一个不错的选择。")])]),e._v(" "),r("p",[e._v("扩展上下文可用于"),r("a",{attrs:{href:"https://code.visualstudio.com/api/get-started/extension-anatomy#extension-entry-file",target:"_blank",rel:"noopener noreferrer"}},[e._v("扩展条目文件中"),r("OutboundLink")],1),e._v("的"),r("code",[e._v("activate")]),e._v("功能。")]),e._v(" "),r("h2",{attrs:{id:"显示通知"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#显示通知"}},[e._v("#")]),e._v(" 显示通知")]),e._v(" "),r("p",[e._v("几乎所有扩展都需要在某个时刻向用户提供信息。VS Code提供了三种用于显示不同严重性的通知消息的API：")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://code.visualstudio.com/api/references/vscode-api#window.showInformationMessage",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("window.showInformationMessage")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://code.visualstudio.com/api/references/vscode-api#window.showWarningMessage",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("window.showWarningMessage")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://code.visualstudio.com/api/references/vscode-api#window.showErrorMessage",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("window.showErrorMessage")]),r("OutboundLink")],1)])]),e._v(" "),r("h2",{attrs:{id:"快选"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#快选"}},[e._v("#")]),e._v(" 快选")]),e._v(" "),r("p",[e._v("使用"),r("a",{attrs:{href:"https://code.visualstudio.com/api/references/vscode-api#QuickPick",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("vscode.QuickPick")]),r("OutboundLink")],1),e._v("API，您可以轻松收集用户输入或让用户从多个选项中进行选择。该"),r("a",{attrs:{href:"https://github.com/microsoft/vscode-extension-samples/tree/main/quickinput-sample",target:"_blank",rel:"noopener noreferrer"}},[e._v("QuickInput示例"),r("OutboundLink")],1),e._v("说明了API。")]),e._v(" "),r("h2",{attrs:{id:"文件选择器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#文件选择器"}},[e._v("#")]),e._v(" 文件选择器")]),e._v(" "),r("p",[e._v("扩展可以使用"),r("a",{attrs:{href:"https://code.visualstudio.com/api/references/vscode-api#vscode.window.showOpenDialog",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("vscode.window.showOpenDialog")]),r("OutboundLink")],1),e._v("API打开系统文件选择器并选择文件或文件夹。")]),e._v(" "),r("h2",{attrs:{id:"输出通道"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#输出通道"}},[e._v("#")]),e._v(" 输出通道")]),e._v(" "),r("p",[e._v("输出面板显示的集合"),r("a",{attrs:{href:"https://code.visualstudio.com/api/references/vscode-api#OutputChannel",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("OutputChannel")]),r("OutboundLink")],1),e._v("，非常适合记录日志。您可以通过"),r("a",{attrs:{href:"https://code.visualstudio.com/api/references/vscode-api#window.createOutputChannel",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("window.createOutputChannel")]),r("OutboundLink")],1),e._v("API轻松利用它。")]),e._v(" "),r("h2",{attrs:{id:"进度api"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#进度api"}},[e._v("#")]),e._v(" 进度API")]),e._v(" "),r("p",[e._v("您可以使用"),r("a",{attrs:{href:"https://code.visualstudio.com/api/references/vscode-api#Progress",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("vscode.Progress")]),r("OutboundLink")],1),e._v("API向用户报告进度更新。")]),e._v(" "),r("p",[e._v("可以使用以下"),r("a",{attrs:{href:"https://code.visualstudio.com/api/references/vscode-api#ProgressLocation",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("ProgressLocation")]),r("OutboundLink")],1),e._v("选项在不同位置显示进度：")]),e._v(" "),r("ul",[r("li",[e._v("在通知区域")]),e._v(" "),r("li",[e._v("在“源代码管理”视图中")]),e._v(" "),r("li",[e._v("VS Code窗口中的总体进度")])]),e._v(" "),r("p",[e._v("该"),r("a",{attrs:{href:"https://github.com/microsoft/vscode-extension-samples/tree/main/progress-sample",target:"_blank",rel:"noopener noreferrer"}},[e._v("进度示例"),r("OutboundLink")],1),e._v("说明了这个API。")])])}),[],!1,null,null,null);t.default=n.exports}}]);